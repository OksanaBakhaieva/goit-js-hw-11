{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/pixayApi.js","../src/js/render-function","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n  searchBtn: document.querySelector('.button'),\n};","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41991385-9b19b8bb3d6f1491499417d17';\n\nexport function fetchImages(query) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n    return fetch(url).then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    });\n}","export function createMarkup(hits) {\n    return hits\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n            <ul class=\"gallery-info\">\n              <li class=\"gallery-info-item\">Likes: <span class=\"descr-span\">${likes}</span></li>\n              <li class=\"gallery-info-item\">Views: <span class=\"descr-span\">${views}</span></li>\n              <li class=\"gallery-info-item\">Comments: <span class=\"descr-span\">${comments}</span></li>\n              <li class=\"gallery-info-item\">Downloads: <span class=\"descr-span\">${downloads}</span></li>\n            </ul> \n          </a>\n        </li>`\n      )\n      .join('');\n}\n  \n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './js/refs';\nimport { fetchImages } from './js/pixayApi';\nimport { createMarkup } from './js/render-function';\n\nconst simplyGallery = new SimpleLightbox('.gallery-item a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n});\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = refs.input.value.trim();\n  showLoader();\n  if (!query) {\n    createMessage(\n      `The search field can't be empty! Please, enter your request!`\n    );\n    return;\n    hideLoader();\n  }\n   \n  function createMessage(message) {\n    iziToast.show({\n      class: 'error-svg',\n      position: 'topRight',\n      icon: 'error-svg',\n      message: message,\n      maxWidth: '432',\n      messageColor: '#fff',\n      messageSize: '16px',\n      backgroundColor: '#EF4040',\n      close: false,\n      closeOnClick: true,\n    });\n  }\n  fetchImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        createMessage(\n          `Sorry, there are no images matching your search query. Please, try again!`\n        );\n        hideLoader();\n      }\n\n      refs.gallery.innerHTML = createMarkup(data.hits);\n      hideLoader();\n      simplyGallery.refresh();\n    })\n    .catch(error => console.error(error)).finally(() => {\n      refs.form.reset()\n    });\n \n  function hideLoader() {\n    setTimeout(() => {\n        refs.loader.classList.add('hidden');\n        }, 500);\n  };\n\n  function showLoader() {\n        refs.loader.classList.remove('hidden');\n  };\n}) \n\n"],"names":["refs","BASE_URL","API_KEY","fetchImages","query","url","resp","createMarkup","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","simplyGallery","SimpleLightbox","event","showLoader","createMessage","message","iziToast","data","hideLoader","error"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,EACxC,UAAW,SAAS,cAAc,SAAS,CAC7C,ECNMC,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAME,CAAK,2DAEjD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAQ,CAC7B,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAClB,CAAK,CACL,CCZO,SAASC,EAAaC,EAAM,CAC/B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,0CAEgCL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA,8EAGqDC,CAAK;AAAA,8EACLC,CAAK;AAAA,iFACFC,CAAQ;AAAA,kFACPC,CAAS;AAAA;AAAA;AAAA,cAIpF,EACA,KAAK,EAAE,CACd,CCtBA,MAAMC,EAAgB,IAAIC,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GACtB,CAAC,EAEDjB,EAAK,KAAK,iBAAiB,SAAUkB,GAAS,CAC5CA,EAAM,eAAc,EACpB,MAAMd,EAAQJ,EAAK,MAAM,MAAM,KAAI,EAEnC,GADAmB,IACI,CAACf,EAAO,CACVgB,EACE,8DACN,EACI,MAED,CAED,SAASA,EAAcC,EAAS,CAC9BC,EAAS,KAAK,CACZ,MAAO,YACP,SAAU,WACV,KAAM,YACN,QAASD,EACT,SAAU,MACV,aAAc,OACd,YAAa,OACb,gBAAiB,UACjB,MAAO,GACP,aAAc,EACpB,CAAK,CACF,CACDlB,EAAYC,CAAK,EACd,KAAKmB,GAAQ,CACRA,EAAK,KAAK,SAAW,IACvBH,EACE,2EACV,EACQI,KAGFxB,EAAK,QAAQ,UAAYO,EAAagB,EAAK,IAAI,EAC/CC,IACAR,EAAc,QAAO,CAC3B,CAAK,EACA,MAAMS,GAAS,QAAQ,MAAMA,CAAK,CAAC,EAAE,QAAQ,IAAM,CAClDzB,EAAK,KAAK,MAAO,CACvB,CAAK,EAEH,SAASwB,GAAa,CACpB,WAAW,IAAM,CACbxB,EAAK,OAAO,UAAU,IAAI,QAAQ,CACjC,EAAE,GAAG,CAEd,CACE,SAASmB,GAAa,CAChBnB,EAAK,OAAO,UAAU,OAAO,QAAQ,CAC7C,CACA,CAAC"}